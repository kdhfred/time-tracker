# 사용 시간 측정기 (Time Tracker) PRD

## 1. 개요

사용 시간 측정기는 다양한 활동에 대한 시간을 추적하고 기록하는 웹 애플리케이션입니다. 키보드 단축키를 통해 빠르게 활동을 전환할 수 있으며, 각 활동에 대한 시간을 자동으로 기록합니다.

## 2. 핵심 기능

### 2.1 타이머/스톱워치

- 카테고리별로 타이머 또는 스톱워치 모드 지원
- 타이머 모드: 설정된 시간이 끝나면 자동 종료
  - 타이머 종료 시 3번의 알림음 재생 (설정에서 ON/OFF 가능)
  - 알림음 테스트 기능 제공
- 스톱워치 모드: 무제한 시간 측정 가능
- 밀리초 표시 옵션 (설정에서 토글 가능)
- 일시정지/재개 기능 (스페이스바 또는 버튼으로 제어)

### 2.2 단축키 시스템

- 각 카테고리별 커스텀 단축키 설정
- 단축키 구성: `키, 카테고리명, 타이머시간(선택사항)`
- 스페이스바는 일시정지 전용 키로 예약
- 설정된 단축키 목록 확인/수정/삭제 기능
- 카테고리 목록에서 단축키 표시 및 클릭으로 실행 가능

### 2.3 세션 관리

- 세션 자동 기록
  - 시작 시간
  - 종료 시간
  - 총 사용 시간
  - 실제 사용 시간 (일시정지 시간 제외)
  - 일시정지 시간 (전체 시간 - 실제 사용 시간)
  - 카테고리

- 세션 표시 형식
  - 날짜
  - "시작 시간 - 종료 시간"
  - 일시정지 시간 (있는 경우)
  - 카테고리명
  - 실제 사용 시간

- 세션 관리 기능
  - 개별 세션 삭제
  - 전체 세션 초기화
  - 최신순 정렬 표시
  - 세션 목록 접기/펼치기 기능
  - 세션 수 표시 (예: "세션 기록 (5)")

- 카테고리별 통계
  - 카테고리별 총 사용시간 자동 집계
  - 실시간 업데이트
  - 사이드바 상단에 표시
  - 설정된 모든 카테고리 표시 (사용시간 0인 경우도 포함)
  - 카테고리 클릭으로 타이머 시작 가능

- 날짜별 통계
  - 날짜 네비게이션 (이전/다음 날짜 이동)
  - 오늘/어제/특정 날짜 형식으로 표시
  - 선택된 날짜의 카테고리별 사용시간 표시
  - 해당 날짜에 사용된 카테고리만 표시
  - 실시간 업데이트

### 2.4 설정 공유

- 현재 단축키 설정을 URL로 공유 가능
- Base64 인코딩을 통한 설정 데이터 전달
- URL 파라미터를 통한 설정 자동 적용

### 2.5 설명서 팝업

- 최초 방문 시 자동 표시
- 우측 상단 설명서 버튼으로 재확인 가능
- 설명서 내용
  - 빠른 시작 가이드
  - 키보드 단축키 안내
  - 기록 확인 방법
- 팝업 제어
  - 우측 상단 X 버튼으로 닫기
  - 하단 확인 버튼으로 닫기
  - 배경 클릭 시 경고 메시지 표시

### 2.6 다크 모드

- 시스템 설정 연동
  - 시스템의 다크모드 설정 자동 감지
  - 시스템 설정 변경 시 자동 업데이트
- 수동 설정
  - 우측 상단 설정 패널에서 토글 가능
  - 사용자 설정 우선 적용
  - localStorage를 통한 설정 유지
- 다크 모드 테마
  - 어두운 배경색과 밝은 텍스트
  - 부드러운 전환 효과
  - 모든 UI 요소에 대한 다크 테마 적용
    - 타이머 디스플레이
    - 설정 패널
    - 세션 기록
    - 버튼 및 입력 필드
    - 모달 창

## 3. UI/UX 상세 스펙

### 3.1 레이아웃

- 좌측 사이드바 (380px)
  - 날짜 네비게이션
    - 이전/다음 날짜 이동 버튼
    - 현재 선택된 날짜 표시
    - 오늘/어제는 텍스트로, 이전 날짜는 전체 날짜 형식으로 표시
  - 카테고리별 사용시간 요약
    - 카테고리명
    - 총 사용시간 (시간/분/초 형식)
  - 세션 기록 목록 (최신순 정렬)
    - 날짜 및 시간 정보
    - 일시정지 시간 표시
    - 개별 삭제 버튼
    - 호버 시 삭제 버튼 강조

- 메인 영역
  - 대형 타이머 디스플레이
    - 시:분:초 형식
    - 선택적 밀리초 표시
    - 브라우저 탭 타이틀에도 시간 표시
  - 현재 카테고리명 표시
  - 일시정지/재개 버튼
    - 상태에 따른 색상 변경
    - 스페이스바 단축키 지원

- 우측 상단 설정 버튼
  - 📓 설명서 버튼
  - ⚙️ 설정 버튼
  - 모바일에서도 접근 용이

- 다크 모드 UI
  - 테마 토글 버튼 (🌞/🌙)
  - CSS 변수를 활용한 테마 전환
  - 부드러운 애니메이션 효과
  - 시스템 설정과의 자연스러운 연동

### 3.2 설정 모달

- 단축키 설정
  - 키 입력 (단일 문자)
  - 카테고리명 입력
  - 타이머 시간 설정 (선택사항)
  - 스페이스바 예외 처리

- 타이머 설정
  - 밀리초 표시 토글
  - 설정 저장 및 복원

- 단축키 목록
  - 설정된 단축키 표시
  - 수정/삭제 기능
  - 호버 효과

- URL 공유 기능
  - 현재 설정을 URL로 인코딩
  - 클립보드 복사 지원

## 4. 기술 스택

- HTML5
- CSS3
- Vanilla JavaScript
- localStorage를 이용한 데이터 저장

## 5. 성능 최적화

- 시스템 폰트 스택 사용
- 효율적인 타이머 업데이트
  - 기본 모드: 1000ms 간격
  - 밀리초 표시 모드: 100ms 간격
- 이벤트 리스너 최적화
- localStorage를 통한 데이터 영속성

## 6. 접근성

- 키보드 접근성 보장
- 시맨틱 HTML 구조
- 적절한 색상 대비

## 7. 에러 처리

- URL 파라미터 파싱 에러
- localStorage 접근 에러
- 타이머 설정 유효성 검사
- 단축키 중복 방지

## 8. 향후 개선 사항

- 데이터 백업/복원 기능
- 다크 모드 지원
- 소리 알림 기능
- 통계 및 차트 기능
- 카테고리 그룹화
- 다국어 지원
- 데이터 내보내기/가져오기
- 키보드 단축키 커스터마이징
- 타이머 소리 설정

## 9. 사용 예시

1. 단축키 설정: 'w' → '업무' (스톱워치)
2. 단축키 설정: 'b' → '휴식' (5분 타이머)
3. 'w' 키를 눌러 업무 시간 측정 시작
4. 'b' 키를 눌러 휴식 타이머 시작 (이전 세션 자동 종료)
5. 스페이스바로 일시정지/재개
6. 좌측 사이드바에서 사용 시간 확인
